{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-dcd40501e03fe81c.js","src/js/modals.js","node_modules/@parcel/runtime-js/lib/runtime-7edd6d942fc72dcf.js","node_modules/@parcel/runtime-js/lib/runtime-b7b9a64b116bef16.js","node_modules/@parcel/runtime-js/lib/runtime-1067e38df6480226.js","node_modules/@parcel/runtime-js/lib/runtime-d88fa9a43248ffd9.js","node_modules/@parcel/runtime-js/lib/runtime-6baf113640758dde.js","node_modules/@parcel/runtime-js/lib/runtime-f0cc4512744faafe.js","src/js/about-book-modal.js","node_modules/@parcel/runtime-js/lib/runtime-02e1cdb7876ae76b.js","node_modules/@parcel/runtime-js/lib/runtime-67cfb030dc544739.js","node_modules/@parcel/runtime-js/lib/runtime-601b8476bdf89f2e.js","src/js/category.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.cda9b46b.js\\\",\\\"2Jedz\\\":\\\"amazon-icon1x.a7ec3af8.png\\\",\\\"ehEdb\\\":\\\"amazon-icon2x.20dbc182.png\\\",\\\"1zLvb\\\":\\\"applebook-icon1x.a9f158e0.png\\\",\\\"bk9Lk\\\":\\\"applebook-icon2x.cdd3fb2c.png\\\",\\\"kMOzt\\\":\\\"bookshop-icon1x.eb5fbc1e.png\\\",\\\"ku5Dq\\\":\\\"bookshop-icon2x.7a15867f.png\\\",\\\"1UC96\\\":\\\"big-placeholder.eaf37d8e.png\\\",\\\"1Qsmf\\\":\\\"medium-placeholder.af4bbc1d.png\\\",\\\"eWCYn\\\":\\\"small-placeholder.a57fe244.png\\\",\\\"6LQ1T\\\":\\\"shop-list.b419d2a6.css\\\",\\\"knfz2\\\":\\\"shop-list.9ce54803.js\\\"}\"));","import { createModal } from './about-book-modal';\n// Змінити на клік по зображенням\n\n// const modal = document.querySelector('.modal');\nconst registerModal = document.querySelector('.register-modal');\nconst loginModal = document.querySelector('.login-modal');\nconst idModal = document.querySelector('.about-book-modal');\nconst closeModalBtn = document.querySelector('#modal-close');\nconst fireBaseBackdrop = document.querySelector('.fire-base-backdrop');\nconst idBackdropModal = document.querySelector('.js-backdrop-modal');\n// const allModal = document.querySelector('allModal')\n\nfunction openModalId() {\n  idModal.classList.remove('is-hidden');\n  idBackdropModal.classList.remove('is-hidden');\n    \n}\n\nfunction closeModalId() {\n  idModal.classList.add('is-hidden');\n  idBackdropModal.classList.add('is-hidden');\n  // allModal.innerHTML = ''\n}\n\nfunction openModalRegister() {\n  registerModal.classList.remove('is-hidden');\n  fireBaseBackdrop.classList.remove('is-hidden');\n}\n\nfunction closeModalRegister() {\n  registerModal.classList.add('is-hidden');\n  fireBaseBackdrop.classList.add('is-hidden');\n}\nfunction openModalLogin() {\n  loginModal.classList.remove('is-hidden');\n  fireBaseBackdrop.classList.remove('is-hidden');\n}\n\nfunction closeModalLogin() {\n  loginModal.classList.add('is-hidden');\n  fireBaseBackdrop.classList.add('is-hidden');\n}\n\n// function openModal() {\n// modal.classList.remove('is-hidden');\n// jsBackdropModal.classList.remove('is-hidden');\n// }\n\n// function closeModal() {\n//   modal.classList.add('is-hidden');\n//   jsBackdropModal.classList.add('is-hidden');\n// }\n\n// Змінити на клік по зображенням\n// openModalBtn.addEventListener('click', openModalId);\n\ncloseModalBtn.addEventListener('click', closeModalId);\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModalId();\n  }\n});\n\nidBackdropModal.addEventListener('click', function (event) {\n  if (event.target === idBackdropModal) {\n    closeModalId();\n  }\n});\n\nexport { openModalId };\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"2Jedz\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ehEdb\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1zLvb\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"bk9Lk\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"kMOzt\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"ku5Dq\");","import { openModalId } from './modals';\nimport amazonPng from '../images/png-icons/shops/amazon-icon1x.png';\nimport amazonPng2x from '../images/png-icons/shops/amazon-icon2x.png';\nimport appleBookPng from '../images/png-icons/shops/applebook-icon1x.png';\nimport appleBookPng2x from '../images/png-icons/shops/applebook-icon2x.png';\nimport bookShopPng from '../images/png-icons/shops/bookshop-icon1x.png';\nimport bookShopPng2x from '../images/png-icons/shops/bookshop-icon2x.png';\n\nconst allModal = document.querySelector('#allModal');\nconst bookList = document.querySelector('.category__books');\nconst storageButton = document.querySelector('.add-storage-button');\nconst removeStorageBtn = document.querySelector('.remove-modal-btn');\nconst storageDescription = document.querySelector('.storage-description');\nconst STORAGE_KEY = 'storage-data';\nlet storageArr = [];\nlet storageObj = {};\n\nstorageButton.addEventListener('click', onStorageAdd);\nremoveStorageBtn.addEventListener('click', onStorageDelete);\nbookList.addEventListener('click', onIdClick);\n\nfunction onIdClick(e) {\n  const id = e.target.closest('li').id;\n  openModalId();\n  createModal(id);\n}\n\nasync function createModal(bookId) {\n  allModal.innerHTML = '';\n  try {\n    const data = await fetchBookById(bookId);\n    storageCheck();\n    createMarkup(data);\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\n\nasync function fetchBookById(bookId) {\n  try {\n    storageObj = {};\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/${bookId}`\n    );\n    const data = await response.json();\n    storageObj = {\n      book_image: data.book_image,\n      title: data.title,\n      author: data.author,\n      marketAmazon: data.buy_links[0].url,\n      marketAppleBooks: data.buy_links[1].url,\n      marketBookshop: data.buy_links[4].url,\n      list_name: data.list_name,\n      id: data._id,\n    };\n    return data;\n  } catch (error) {\n    console.error('Error', error);\n    throw error;\n  }\n}\nfunction storageCheck() {\n  const storageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const idToFind = storageObj.id;\n\n  if (!storageArr || storageArr.length === 0) {\n    storageButton.style.display = 'block';\n    removeStorageBtn.style.display = 'none';\n    return;\n  } else {\n    const objToFind = storageArr.find(obj => obj.id === idToFind);\n    if (!objToFind) {\n      storageButton.style.display = 'block';\n      removeStorageBtn.style.display = 'none';\n    } else {\n      storageButton.style.display = 'none';\n      removeStorageBtn.style.display = 'block';\n    }\n  }\n}\n\nfunction createMarkup(data) {\n  const bookModalImage = data.book_image;\n  const bookTitle = data.title;\n  const bookAuthor = data.author;\n  const marketAmazon = data.buy_links[0].url;\n  const marketAppleBooks = data.buy_links[1].url;\n  const marketBookshop = data.buy_links[4].url;\n\n  const html = `  \n  <img src=\"${bookModalImage}\" alt=\"Book Image\" class=\"image-about-book-modal\">\n  <div class=\"info-modal\">\n  <h2 class=\"title-about-book-modal\">${bookTitle}</h2>\n  <p class=\"author-about-book-modal\"> ${bookAuthor}</p>\n  <p class=\"text-about-book-modal\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, iure nam facere exercitationem quibusdam cum in quasi impedit perferendis porro. Vero quos minima doloribus magni corporis beatae ducimus officiis! Rerum?</p>\n  <ul class=\"shop-modal-list\"> <li class=\"shop-modal-item\"><a href=\"${marketAmazon}\" target=\"_blank\"\n    > <img\n     width=\"62\"\n    height=\"19\"\n    srcset=\"\n    ${amazonPng} 1x,\n    ${amazonPng2x} 2x\n  \"\n   src=\"${amazonPng}\"\n    alt=\"Amazon\"\n  /></a></li>\n  <li class=\"shop-modal-item\"><a href=\"${marketAppleBooks}\" target=\"_blank\"\n    > <img\n    width=\"33\"\n    height=\"32\"\n    srcset=\"\n    ${appleBookPng} 1x,\n    ${appleBookPng2x} 2x\n  \"\n   src=\"${appleBookPng}\"\n    alt=\"AppleBooks\"\n  /></a></li>\n  <li class=\"shop-modal-item\"><a href=\"${marketBookshop}\" target=\"_blank\"\n    > <img\n    width=\"38\"\n    height=\"36\"\n    srcset=\"\n    ${bookShopPng} 1x,\n    ${bookShopPng2x} 2x\n  \"\n   src=\"${bookShopPng}\"\n    alt=\"Book-Shop\"\n  /></a></li>\n</ul>\n</div>\n  `;\n  allModal.innerHTML = html;\n}\n\nfunction onStorageAdd() {\n  const realStorageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const dataToSave = storageObj;\n  if (!realStorageArr || realStorageArr.length === 0) {\n    storageArr.push(dataToSave);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storageArr));\n  } else {\n    realStorageArr.push(dataToSave);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(realStorageArr));\n  }\n\n  storageDescription.textContent =\n    'Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n  storageCheck();\n}\n\nfunction onStorageDelete() {\n  storageDescription.textContent = '';\n\n  const idToDelete = storageObj.id;\n  const storageArr = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const indexToDelete = storageArr.findIndex(obj => obj.id === idToDelete);\n  storageArr.splice(indexToDelete, 1);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(storageArr));\n  storageCheck();\n}\n\nexport { createModal };\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1UC96\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1Qsmf\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"eWCYn\");","import bigPlaceholder from '../images/placeholders/big-placeholder.png';\nimport mediumPlaceholder from '../images/placeholders/medium-placeholder.png';\nimport smallPlaceholder from '../images/placeholders/small-placeholder.png';\n\nconst listRef = document.querySelector('.category__list');\nconst bookListRef = document.querySelector('.category__books');\nconst ENDPOINT = 'https://books-backend.p.goit.global/books/category';\n\nlistRef.addEventListener('click', onCategoryCatch);\n\nasync function onCategoryCatch(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const categoryName = e.target.name;\n  try {\n    const caughtCategory = await fetchByCategory(categoryName);\n    const paintedList = await paintMarkup(caughtCategory, categoryName);\n    bookListRef.innerHTML = paintedList;\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\nasync function fetchByCategory(categoryName) {\n  try {\n    const url = `${ENDPOINT}?category=${categoryName}`;\n    const query = await fetch(url);\n    if (!query.ok) {\n      throw new Error(`Server responded with status: ${query.status}`);\n    }\n    const jsonQuery = await query.json();\n    return jsonQuery;\n  } catch (error) {\n    console.error(`Failed to fetch category: ${error.message}`);\n    return [];\n  }\n}\n\nasync function paintMarkup(arr, categoryName) {\n  if (arr.length === 0) {\n    let placeholder = bigPlaceholder;\n    if (window.innerWidth < 768) {\n      placeholder = smallPlaceholder;\n    } else if (window.innerWidth < 1280) {\n      placeholder = mediumPlaceholder;\n    }\n    return `<li class=\"book\">\n             <img src=\"${placeholder}\" alt=\"No books found\" />\n              <h3>No books found</h3>\n            </li>`;\n  }\n\n  let words = categoryName.split(' ');\n  words[words.length - 1] = `<span class='highlight'>${\n    words[words.length - 1]\n  }</span>`;\n  categoryName = words.join(' ');\n\n  const categoryTitleRef = document.querySelector('.category-title');\n  categoryTitleRef.innerHTML = `<h2 class=\"category-title\">${categoryName}</h2>`;\n\n  let markup = '';\n  markup += arr\n    .map(\n      ({ title, author, book_image, _id }) =>\n        `<li id=\"${_id}\" class=\"books\">\n        <img src=\"${book_image}\" alt=\"${title}\" />\n        <h3>${title}</h3>\n        <p>${author}</p>\n         <div class=\"book-popup\"> quick view </div>\n      </li>`\n    )\n    .join('');\n\n  return markup;\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","document","querySelector","$df97da459fafe592$var$idModal","$df97da459fafe592$var$closeModalBtn","$df97da459fafe592$var$idBackdropModal","$df97da459fafe592$var$closeModalId","classList","add","addEventListener","event","key","target","$b62ed63ff5fc3e17$exports","getBundleURL","resolve","$8d1e9849e977f86c$exports","$9271b577c95c6311$exports","$96b97fdaeac6cf3d$exports","$c1ea36374784db94$exports","$a4871e0f7b035b22$exports","$3d5962d11ded151f$var$allModal","$3d5962d11ded151f$var$bookList","$3d5962d11ded151f$var$storageButton","$3d5962d11ded151f$var$removeStorageBtn","$3d5962d11ded151f$var$storageDescription","$3d5962d11ded151f$var$STORAGE_KEY","$3d5962d11ded151f$var$storageArr","$3d5962d11ded151f$var$storageObj","$3d5962d11ded151f$var$storageCheck","storageArr","localStorage","getItem","idToFind","style","display","find","obj","realStorageArr","dataToSave","push","setItem","stringify","textContent","idToDelete","indexToDelete","findIndex","splice","e","closest","remove","async","bookId","innerHTML","data","response","fetch","json","book_image","title","author","marketAmazon","buy_links","marketAppleBooks","marketBookshop","list_name","_id","error","console","$3d5962d11ded151f$var$fetchBookById","bookModalImage","bookTitle","bookAuthor","html","$parcel$interopDefault","$3d5962d11ded151f$var$createMarkup","$3d5962d11ded151f$export$b63bc83cbdd7b6d5","$4e5dd3fe258d7205$exports","$c01dc6e4892a458f$exports","$9dcf5645ecf4f654$exports","$1b5243cbc9dc9139$var$listRef","$1b5243cbc9dc9139$var$bookListRef","$1b5243cbc9dc9139$var$ENDPOINT","nodeName","categoryName","name","caughtCategory","query","ok","status","message","$1b5243cbc9dc9139$var$fetchByCategory","paintedList","arr","placeholder","window","innerWidth","words","split","join","markup","map","$1b5243cbc9dc9139$var$paintMarkup"],"version":3,"file":"index.cda9b46b.js.map"}