{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-3d9a28072de4a000.js","node_modules/@parcel/runtime-js/lib/runtime-a5e69edddd0bcf72.js","node_modules/@parcel/runtime-js/lib/runtime-0d4bab1c69b35a9b.js","node_modules/@parcel/runtime-js/lib/runtime-873f4034128ac66b.js","node_modules/@parcel/runtime-js/lib/runtime-840e61ec78b4fd87.js","node_modules/@parcel/runtime-js/lib/runtime-469117f6b0def5dc.js","node_modules/@parcel/runtime-js/lib/runtime-86331777a84d46d0.js","node_modules/@parcel/runtime-js/lib/runtime-29f91f44a97f46a2.js","node_modules/@parcel/runtime-js/lib/runtime-ccc0c08ff4a2bc10.js","node_modules/@parcel/runtime-js/lib/runtime-beeaf4989aba86d0.js","node_modules/@parcel/runtime-js/lib/runtime-3469ef771c8e41b5.js","node_modules/@parcel/runtime-js/lib/runtime-0f1e32eed50510ac.js","src/js/shop-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"cwVew\\\":\\\"shop-list.418073f8.js\\\",\\\"ee16w\\\":\\\"sprite.12b7694d.svg\\\",\\\"2Jedz\\\":\\\"amazon-icon1x.a7ec3af8.png\\\",\\\"ehEdb\\\":\\\"amazon-icon2x.20dbc182.png\\\",\\\"1zLvb\\\":\\\"applebook-icon1x.a9f158e0.png\\\",\\\"bk9Lk\\\":\\\"applebook-icon2x.cdd3fb2c.png\\\",\\\"kMOzt\\\":\\\"bookshop-icon1x.eb5fbc1e.png\\\",\\\"ku5Dq\\\":\\\"bookshop-icon2x.7a15867f.png\\\",\\\"7i35a\\\":\\\"empty-desktop-tablet@1x.017eaa98.png\\\",\\\"hJCae\\\":\\\"empty-desktop-tablet@2x.55899084.png\\\",\\\"lDRN9\\\":\\\"empty-mobile@1x.0a4ea4b8.png\\\",\\\"2sEqO\\\":\\\"empty-mobile@2x.d86ac43c.png\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"7i35a\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"hJCae\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"lDRN9\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"2sEqO\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"2Jedz\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"ehEdb\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"1zLvb\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"bk9Lk\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"kMOzt\");","module.exports = require('./helpers/bundle-url').getBundleURL('cwVew') + require('./helpers/bundle-manifest').resolve(\"ku5Dq\");","import svgBin from '../images/sprite.svg';\nimport emptyDtTab1x from '../images/shop-list/empty-desktop-tablet@1x.png';\nimport emptyDtTab2x from '../images/shop-list/empty-desktop-tablet@2x.png';\nimport emptyMob1x from '../images/shop-list/empty-mobile@1x.png';\nimport emptyMob2x from '../images/shop-list/empty-mobile@2x.png';\nimport amazonPng from '../images/png-icons/shops/amazon-icon1x.png';\nimport amazonPng2x from '../images/png-icons/shops/amazon-icon2x.png';\nimport appleBookPng from '../images/png-icons/shops/applebook-icon1x.png';\nimport appleBookPng2x from '../images/png-icons/shops/applebook-icon2x.png';\nimport bookShopPng from '../images/png-icons/shops/bookshop-icon1x.png';\nimport bookShopPng2x from '../images/png-icons/shops/bookshop-icon2x.png';\n\nconst cartEl = document.querySelector('.js-shopping-cart');\nconst cartListEl = document.querySelector('.js-cart-list');\n\nconst STORAGE_KEY = 'storage-data';\n\ncartListEl.addEventListener('click', deleteCard);\n\ncreateShoppingList();\n\nfunction createShoppingList() {\n  const storageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (!storageData || storageData.length === 0) {\n    createEmptyCart(); // вызов функции создания пустой корзины\n  } else {\n    createFullCart(cartListEl, storageData); // вызов функции создания списка корзины\n  }\n}\n\n// Функция создания пустой корзины\nfunction createEmptyCart() {\n  const markup = `\n\t\t<div class=\"cart-empty\">\n      <p class=\"cart-empty__text\">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <picture>\n        <source\n          srcset=\"\n            ${emptyDtTab1x} 1x,\n            ${emptyDtTab2x} 2x\n          \"\n\t\t\t\t\tmedia=\"(min-width: 768px)\"\n        />\n        <img\n          srcset=\"\n            ${emptyMob1x} 1x,\n            ${emptyMob2x} 2x\n            \"\n          src=\"${emptyMob1x}\"\n          alt=\"Empty cart\"\n          class=\"cart-empty__img\"\n        />\n      </picture>\n\t\t</div>`;\n\n  cartEl.innerHTML = markup;\n}\n\n// Функция создания полной корзины\nfunction createFullCart(container, arr) {\n  const markup = arr\n    .map(\n      ({\n        id,\n        book_image,\n        title,\n        author,\n        marketAmazon,\n        marketAppleBooks,\n        marketBookshop,\n        list_name,\n      }) =>\n        `\n\t\t\t<li class=\"cart__item card js-card\" data-book-id=\"${id}\">\n        <picture>\n          <img\n            src=\"${\n              book_image\n                ? book_image\n                : './images/placeholders/very-small-placeholder.png'\n            }\"\n            alt=\"${title}\"\n            class=\"card__img\"\n            width=\"110\"\n            height=\"142\"\n          />\n        </picture>\n        <div class=\"card__content\">\n          <h3 class=\"card__title\">${title}</h3>\n          <p class=\"card__category\">${list_name}</p>\n          <p class=\"card__description\">\n            Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n            Temporibus, architecto voluptate sint debitis ab fugit\n            laudantium nostrum dolore quisquam? Laboriosam nulla eum a,\n            quo, molestiae sed error possimus expedita veniam maiores\n            nam maxime provident quod blanditiis cum voluptate. A\n            provident corrupti dignissimos ullam. Porro architecto\n            maiores est ullam sed. Cum.\n          </p>\n          <div class=\"card__footer\">\n            <p class=\"card__author\">${author}</p>\n            <ul class=\"card__shops list\">\n              <li>\n                <a\n                  href=\"${marketAmazon}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img\n                    width=\"28\"\n                    height=\"28\"\n\t\t\t\t\t\t\t\t\t\tsrcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${amazonPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${amazonPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n                    src=\"${amazonPng}\"\n                    alt=\"amazon.com\"\n                /></a>\n              </li>\n              <li>\n                <a\n                  href=\"${marketAppleBooks}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img\n                    width=\"28\"\n                    height=\"28\"\n                    srcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${appleBookPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${appleBookPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"${appleBookPng}\"\n                    alt=\"books.apple.com\"\n                /></a>\n              </li>\n              <li>\n                <a\n                  href=\"${marketBookshop}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img\n                    width=\"28\"\n                    height=\"28\"\n                    srcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${bookShopPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${bookShopPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"${bookShopPng}\"\n                    alt=\"bookshop.org\"\n                /></a>\n              </li>\n            </ul>\n          </div>\n          <button\n            class=\"card__delete button js-card__delete\"\n            type=\"button\"\n          >\n            <svg class=\"icon-delete\" width=\"22\" height=\"22\">\n              <use href=\"${svgBin}#icon-bin\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`\n    )\n    .join('');\n\n  container.innerHTML = markup;\n}\n\n// Функция удаления карточки + вызов функции перерисовки страницы\nfunction deleteCard(evt) {\n  if (evt.target.classList.contains('js-card__delete')) {\n    const card = evt.target.closest('.js-card');\n    const bookId = card.dataset.bookId;\n    const storageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    const indexToDelete = storageData.findIndex(object => object.id === bookId);\n    storageData.splice(indexToDelete, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storageData));\n    card.remove();\n    createShoppingList();\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$a2304c6b324021c1$exports","getBundleURL","resolve","$1bfe171577d3578e$exports","$2bba811488dc04c0$exports","$55b29a8ba64bc8b6$exports","$1a4620803022c847$exports","$e4728162307a6388$exports","$6de8f5095cb1c476$exports","$28ea5baaac18ce7c$exports","$45ff57825e0bcf64$exports","$40b05359b5fbdb77$exports","$0831412259c3eb4f$exports","$663b14e15d52bb0f$var$cartEl","document","querySelector","$663b14e15d52bb0f$var$cartListEl","$663b14e15d52bb0f$var$STORAGE_KEY","$663b14e15d52bb0f$var$createShoppingList","storageData","localStorage","getItem","container","arr","markup","map","book_image","title","author","marketAmazon","marketAppleBooks","marketBookshop","list_name","$parcel$interopDefault","join","innerHTML","$663b14e15d52bb0f$var$createFullCart","$663b14e15d52bb0f$var$createEmptyCart","addEventListener","evt","target","classList","contains","card","closest","bookId","dataset","indexToDelete","findIndex","object","splice","setItem","stringify","remove"],"version":3,"file":"shop-list.418073f8.js.map"}