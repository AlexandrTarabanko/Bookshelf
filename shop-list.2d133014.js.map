{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0b775915445b04bb.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-94bc1459a6da464a.js","node_modules/@parcel/runtime-js/lib/runtime-278339704fd82367.js","node_modules/@parcel/runtime-js/lib/runtime-5c4a3b0377f15b46.js","node_modules/@parcel/runtime-js/lib/runtime-d9365c2094fcfabf.js","node_modules/@parcel/runtime-js/lib/runtime-8e2644aaaa3d3484.js","node_modules/@parcel/runtime-js/lib/runtime-9509131efb4e9cad.js","node_modules/@parcel/runtime-js/lib/runtime-e56f5cd2382c6f85.js","node_modules/@parcel/runtime-js/lib/runtime-0611352b588f0df9.js","node_modules/@parcel/runtime-js/lib/runtime-80e43d020a43f453.js","node_modules/@parcel/runtime-js/lib/runtime-ede700c2831495ff.js","src/js/shop-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"aoZhb\\\":\\\"shop-list.2d133014.js\\\",\\\"lp5u4\\\":\\\"sprite.00bab1c2.svg\\\",\\\"35kVv\\\":\\\"empty-desktop-tablet@1x.017eaa98.png\\\",\\\"6fa5k\\\":\\\"empty-desktop-tablet@2x.55899084.png\\\",\\\"49jvD\\\":\\\"empty-mobile@1x.0a4ea4b8.png\\\",\\\"6THUv\\\":\\\"empty-mobile@2x.d86ac43c.png\\\",\\\"4AGaC\\\":\\\"amazon-icon1x.a7ec3af8.png\\\",\\\"9Ah0R\\\":\\\"amazon-icon2x.20dbc182.png\\\",\\\"8uc1C\\\":\\\"applebook-icon1x.a9f158e0.png\\\",\\\"3fItF\\\":\\\"applebook-icon2x.cdd3fb2c.png\\\",\\\"hTaYv\\\":\\\"bookshop-icon1x.eb5fbc1e.png\\\",\\\"cdwLe\\\":\\\"bookshop-icon2x.7a15867f.png\\\",\\\"6LQ1T\\\":\\\"index.9fc21abc.css\\\",\\\"9m5pa\\\":\\\"index.f9c963e4.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"35kVv\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6fa5k\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"49jvD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6THUv\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4AGaC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9Ah0R\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8uc1C\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3fItF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hTaYv\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cdwLe\")).toString();","import svgBin from '../images/sprite.svg';\nimport emptyDtTab1x from '../images/shop-list/empty-desktop-tablet@1x.png';\nimport emptyDtTab2x from '../images/shop-list/empty-desktop-tablet@2x.png';\nimport emptyMob1x from '../images/shop-list/empty-mobile@1x.png';\nimport emptyMob2x from '../images/shop-list/empty-mobile@2x.png';\nimport amazonPng from '../images/png-icons/shops/amazon-icon1x.png';\nimport amazonPng2x from '../images/png-icons/shops/amazon-icon2x.png';\nimport appleBookPng from '../images/png-icons/shops/applebook-icon1x.png';\nimport appleBookPng2x from '../images/png-icons/shops/applebook-icon2x.png';\nimport bookShopPng from '../images/png-icons/shops/bookshop-icon1x.png';\nimport bookShopPng2x from '../images/png-icons/shops/bookshop-icon2x.png';\n\n// import './mobile-menu.js';\n// import './theme-switch.js';\n// import './open-close.js';\n// import './vendors/swiper-bundle.min.js';\n\n// import './pagination.js';\n// import './modals';\nimport './slider-set.js';\n\nconst cartEl = document.querySelector('.js-shopping-cart');\nconst cartListEl = document.querySelector('.js-cart-list');\n\nconst STORAGE_KEY = 'storage-data';\n\ncartListEl.addEventListener('click', deleteCard);\n\ncreateShoppingList();\n\nfunction createShoppingList() {\n  const storageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (!storageData || storageData.length === 0) {\n    createEmptyCart(); // вызов функции создания пустой корзины\n  } else {\n    createFullCart(cartListEl, storageData); // вызов функции создания списка корзины\n  }\n}\n\n// Функция создания пустой корзины\nfunction createEmptyCart() {\n  const markup = `\n\t\t<div class=\"cart-empty\">\n      <p class=\"cart-empty__text\">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <picture>\n        <source\n          srcset=\"\n            ${emptyDtTab1x} 1x,\n            ${emptyDtTab2x} 2x\n          \"\n\t\t\t\t\tmedia=\"(min-width: 768px)\"\n        />\n        <img\n          srcset=\"\n            ${emptyMob1x} 1x,\n            ${emptyMob2x} 2x\n            \"\n          src=\"${emptyMob1x}\"\n          alt=\"Empty cart\"\n          class=\"cart-empty__img\"\n        />\n      </picture>\n\t\t</div>`;\n\n  cartEl.innerHTML = markup;\n}\n\n// Функция создания полной корзины\nfunction createFullCart(container, arr) {\n  const markup = arr\n    .map(\n      ({\n        id,\n        book_image,\n        title,\n        author,\n        marketAmazon,\n        marketAppleBooks,\n        marketBookshop,\n        list_name,\n      }) =>\n        `\n\t\t\t<li class=\"cart__item card js-card\" data-book-id=\"${id}\">\n        <picture>\n          <img\n            src=\"${\n              book_image\n                ? book_image\n                : './images/placeholders/very-small-placeholder.png'\n            }\"\n            alt=\"${title}\"\n            class=\"card__img\"\n            width=\"110\"\n            height=\"142\"\n          />\n        </picture>\n        <div class=\"card__content\">\n          <h3 class=\"card__title\">${title.trim()}</h3>\n          <p class=\"card__category\">${list_name.trim()}</p>\n          <p class=\"card__description\">\n            Lorem, ipsum dolor sit amet consectetur adipisicing elit.\n            Temporibus, architecto voluptate sint debitis ab fugit\n            laudantium nostrum dolore quisquam? Laboriosam nulla eum a,\n            quo, molestiae sed error possimus expedita veniam maiores\n            nam maxime provident quod blanditiis cum voluptate. A\n            provident corrupti dignissimos ullam. Porro architecto\n            maiores est ullam sed. Cum.\n          </p>\n          <div class=\"card__footer\">\n            <p class=\"card__author\">${author.trim()}</p>\n            <ul class=\"card__shops list\">\n              <li class=\"shop\">\n                <a\n                  href=\"${marketAmazon}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img class=\"shop__image--amazon\"\n                    width=\"28\"\n                    height=\"28\"\n\t\t\t\t\t\t\t\t\t\tsrcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${amazonPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${amazonPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n                    src=\"${amazonPng}\"\n                    alt=\"amazon.com\"\n                /></a>\n              </li>\n              <li class=\"shop\">\n                <a\n                  href=\"${marketAppleBooks}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img class=\"shop__image--apple\"\n                    width=\"28\"\n                    height=\"28\"\n                    srcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${appleBookPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${appleBookPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"${appleBookPng}\"\n                    alt=\"books.apple.com\"\n                /></a>\n              </li class=\"shop\">\n              <li>\n                <a\n                  href=\"${marketBookshop}\"\n                  target=\"_blank\"\n                  rel=\"noopener nofollow\"\n                >\n                  <img class=\"shop__image--bookshop\"\n                    width=\"28\"\n                    height=\"28\"\n                    srcset=\"\n\t\t\t\t\t\t\t\t\t\t\t${bookShopPng} 1x,\n\t\t\t\t\t\t\t\t\t\t\t${bookShopPng2x} 2x\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\tsrc=\"${bookShopPng}\"\n                    alt=\"bookshop.org\"\n                /></a>\n              </li>\n            </ul>\n          </div>\n          <button\n            class=\"card__delete button js-card__delete\"\n            type=\"button\"\n          >\n            <svg class=\"icon-delete\" width=\"22\" height=\"22\">\n              <use x=\"1%\" href=\"${svgBin}#icon-bin\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`\n    )\n    .join('');\n\n  container.innerHTML = markup;\n}\n\n// Функция удаления карточки + вызов функции перерисовки страницы\nfunction deleteCard(evt) {\n  if (evt.target.classList.contains('js-card__delete')) {\n    const card = evt.target.closest('.js-card');\n    const bookId = card.dataset.bookId;\n    const storageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    const indexToDelete = storageData.findIndex(object => object.id === bookId);\n    storageData.splice(indexToDelete, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(storageData));\n    card.remove();\n    createShoppingList();\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a4212a039eccdb43$exports","URL","resolve","url","toString","$7a287328ee524edb$exports","$aca0e0b0e1b99dd2$exports","$592a6d8129c796ad$exports","$996a924df09feb9f$exports","$6c188761e8b6fed2$exports","$f628dbed41335e07$exports","$6b4138feaf769040$exports","$261d3d4bd13d3f77$exports","$d7c4805445727c8c$exports","$23de426c97b8d25a$exports","$001c118b8b2a009e$var$cartEl","document","querySelector","$001c118b8b2a009e$var$cartListEl","$001c118b8b2a009e$var$STORAGE_KEY","$001c118b8b2a009e$var$createShoppingList","storageData","localStorage","getItem","container","arr","markup","map","book_image","title","author","marketAmazon","marketAppleBooks","marketBookshop","list_name","trim","$parcel$interopDefault","join","innerHTML","$001c118b8b2a009e$var$createFullCart","$001c118b8b2a009e$var$createEmptyCart","addEventListener","evt","target","classList","contains","card","closest","bookId","dataset","indexToDelete","findIndex","object","splice","setItem","stringify","remove"],"version":3,"file":"shop-list.2d133014.js.map"}