!function(){function e(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=o.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,o){n[e]=o},o.parcelRequired7c6=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.54d40b08.js","1UC96":"big-placeholder.eaf37d8e.png","1Qsmf":"medium-placeholder.af4bbc1d.png","eWCYn":"small-placeholder.a57fe244.png","iQpkz":"amazon-icon.b8fa90cb.png"}'));document.querySelector(".register-modal"),document.querySelector(".login-modal");const a=document.querySelector(".about-book-modal"),r=document.querySelector("#modal-close"),s=(document.querySelector(".fire-base-backdrop"),document.querySelector(".js-backdrop-modal"));function l(){a.classList.add("is-hidden"),s.classList.add("is-hidden")}r.addEventListener("click",l),document.addEventListener("keydown",(function(e){"Escape"===e.key&&l()})),s.addEventListener("click",(function(e){e.target===s&&l()}));var c={};c=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("iQpkz");const d=document.querySelector("#allModal"),u=document.querySelector(".category__books"),g=document.querySelector(".add-storage-button"),m=document.querySelector(".remove-modal-btn"),p=document.querySelector(".storage-description"),h="storage-data";let b=[],f={};function k(){const e=JSON.parse(localStorage.getItem(h)),o=f.id;if(!e||0===e.length)return g.style.display="block",void(m.style.display="none");e.find((e=>e.id===o))?(g.style.display="none",m.style.display="block"):(g.style.display="block",m.style.display="none")}g.addEventListener("click",(function(){const e=JSON.parse(localStorage.getItem(h)),o=f;e&&0!==e.length?(e.push(o),localStorage.setItem(h,JSON.stringify(e))):(b.push(o),localStorage.setItem(h,JSON.stringify(b)));p.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",k()})),m.addEventListener("click",(function(){p.textContent="";const e=f.id,o=JSON.parse(localStorage.getItem(h)),t=o.findIndex((o=>o.id===e));o.splice(t,1),localStorage.setItem(h,JSON.stringify(o)),k()})),u.addEventListener("click",(function(o){const t=o.target.closest("li").id;a.classList.remove("is-hidden"),s.classList.remove("is-hidden"),async function(o){try{const t=await async function(e){try{f={};const o=await fetch(`https://books-backend.p.goit.global/books/${e}`),t=await o.json();return f={book_image:t.book_image,title:t.title,author:t.author,marketAmazon:t.buy_links[0].url,marketAppleBooks:t.buy_links[1].url,marketBookshop:t.buy_links[4].url,list_name:t.list_name,id:t._id},t}catch(e){throw console.error("Error",e),e}}(o);return k(),function(o){d.innerHTML="";const t=o.book_image,n=o.title,i=o.author,a=o.buy_links[0].url,r=o.buy_links[1].url,s=o.buy_links[4].url,l=`\n  \n  <img src="${t}" alt="Book Image" class="image-about-book-modal">\n  <div class="info-modal">\n  <h2 class="title-about-book-modal">${n}</h2>\n  <p class="author-about-book-modal"> ${i}</p>\n  <p class="text-about-book-modal">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, iure nam facere exercitationem quibusdam cum in quasi impedit perferendis porro. Vero quos minima doloribus magni corporis beatae ducimus officiis! Rerum?</p>\n  <ul class="shop-modal-list"> <li class="shop-modal-item"><a href="${a}" target="_blank"\n    > <img\n     width="62"\n    height="12"\n        src="${e(c)}"\n    alt="Amazon"\n  /></a></li>\n  <li class="shop-modal-item"><a href="${r}" target="_blank"\n    > <img\n    width="33"\n    height="32"\n       src="src/images/png-icons/shops/first-book-shop-icon.png"\n    alt="AppleBooks"\n  /></a></li>\n  <li class="shop-modal-item"><a href="${s}" target="_blank"\n    > <img\n    width="38"\n    height="38"\n    src="./src/images/png-icons/shops/second-book-shop-icon.png"\n    alt="Book-Shop"\n  /></a></li>\n</ul>\n</div>\n  `;d.innerHTML=l}(t),t}catch(e){throw console.error("Error",e),e}}(t)}));var y={};y=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("1UC96");var _={};_=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("1Qsmf");var S={};S=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("eWCYn");const v=document.querySelector(".category__list"),E=document.querySelector(".category__books"),w="https://books-backend.p.goit.global/books/category";v.addEventListener("click",(async function(o){if("BUTTON"!==o.target.nodeName)return;const t=o.target.name;try{const o=await async function(e){try{const o=`${w}?category=${e}`,t=await fetch(o);if(!t.ok)throw new Error(`Server responded with status: ${t.status}`);return await t.json()}catch(e){return console.error(`Failed to fetch category: ${e.message}`),[]}}(t),n=await async function(o,t){if(0===o.length){let o=e(y);return window.innerWidth<768?o=e(S):window.innerWidth<1280&&(o=e(_)),`<li class="book">\n             <img src="${o}" alt="No books found" />\n              <h3>No books found</h3>\n            </li>`}let n=t.split(" ");n[n.length-1]=`<span class='highlight'>${n[n.length-1]}</span>`,t=n.join(" ");document.querySelector(".category-title").innerHTML=`<h2 class="category-title">${t}</h2>`;let i="";return i+=o.map((({title:e,author:o,book_image:t,_id:n})=>`<li id="${n}" class="book">\n        <img src="${t}" alt="${e}" />\n        <h3>${e}</h3>\n        <p>${o}</p>\n         <div class="book-popup"> quick view </div>\n      </li>`)).join(""),i}(o,t);E.innerHTML=n}catch(e){console.error(e.message)}}))}();
//# sourceMappingURL=index.54d40b08.js.map
