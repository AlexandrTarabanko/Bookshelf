const e=document.querySelector(".modal"),t=document.querySelector("#openModalBtn"),o=document.querySelector(".storage-button"),n=document.querySelector(".storage-delete-button"),i=document.querySelector(".storage-description"),r="storage-data",s=[];let a={};n.addEventListener("click",(function(){const e=a.id,t=JSON.parse(localStorage.getItem(r));i.textContent="";const o=t.findIndex((t=>t.id===e)),n=t.splice(o+1,1);localStorage.setItem(r,JSON.stringify(n))})),o.addEventListener("click",(function(e){const t=a;s.push(t),i.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",e.target.textContent="Remove from the shopping list",localStorage.setItem(r,JSON.stringify(s))})),t.addEventListener("click",(function(){!async function(t){a={};try{const o=await async function(e){try{a={};const t=await fetch(`https://books-backend.p.goit.global/books/${e}`),o=await t.json();return a={book_image:o.book_image,title:o.title,author:o.author,marketAmazon:o.buy_links[0].url,marketAppleBooks:o.buy_links[1].url,marketBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},console.log(a),o}catch(e){throw console.error("Error",e),e}}(t);return function(t){const o=t.book_image,n=t.title,i=t.author,r=t.buy_links[0].url,s=t.buy_links[1].url,a=t.buy_links[4].url,c=`\n  <img src="${o}" alt="Book Image" class="image__about-book-modal">\n  <h2>${n}</h2>\n  <p> ${i}</p>\n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error, iure nam facere exercitationem quibusdam cum in quasi impedit perferendis porro. Vero quos minima doloribus magni corporis beatae ducimus officiis! Rerum?</p>\n  <ul> <li><a href="${r}" target="_blank"\n    > <img\n    width="28"\n    height="28"\n    src="src/images/png-icons/shops/amazon-icon.png"\n    alt="close-icon"\n  /></a></li>\n  <li><a href="${s}" target="_blank"\n    > <img\n    width="28"\n    height="28"\n    src="src/images/png-icons/shops/first-book-shop-icon.png"\n    alt="close-icon"\n  /></a></li>\n  <li><a href="${a}" target="_blank"\n    > <img\n    width="28"\n    height="28"\n    src="src/images/png-icons/shops/second-book-shop-icon.png"\n    alt="close-icon"\n  /></a></li>\n</ul>\n  `;e.insertAdjacentHTML("afterbegin",c)}(o),o}catch(e){throw console.error("Error",e),e}}("643282b2e85766588626a0fc")}));const c=document.getElementById("openModalBtn"),l=document.querySelector(".modal"),d=l.querySelector(".close-modal-btn"),u=document.querySelector(".js-backdrop-modal");function m(){l.classList.add("is-hidden")}c.addEventListener("click",(function(){l.classList.remove("is-hidden")})),d.addEventListener("click",m),document.addEventListener("keydown",(function(e){"Escape"===e.key&&m()})),u.addEventListener("click",(function(e){e.target===u&&m()}));
//# sourceMappingURL=index.8f2715d0.js.map
