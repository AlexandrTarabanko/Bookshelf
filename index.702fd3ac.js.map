{"mappings":"YACA,MAAMA,EAAeC,SAASC,eAAe,gBAEvCC,EAAQF,SAASG,cAAc,UAC/BC,EAAgBF,EAAMC,cAAc,gBACpCE,EAAkBL,SAASG,cAAc,sBAM/C,SAASG,IACPJ,EAAMK,UAAUC,IAAI,YACtB,CAGAT,EAAaU,iBAAiB,SAT9B,WACEP,EAAMK,UAAUG,OAAO,YACzB,IASAN,EAAcK,iBAAiB,QAASH,GAExCN,SAASS,iBAAiB,WAAW,SAAUE,GAC3B,WAAdA,EAAMC,KACRN,GAEJ,IAEAD,EAAgBI,iBAAiB,SAAS,SAAUE,GAC9CA,EAAME,SAAWR,GACnBC,GAEJ,IC9BA,MAAMQ,EAAUd,SAASG,cAAc,mBACjCY,EAAcf,SAASG,cAAc,oBACrCa,EAAW,qDAEjBF,EAAQL,iBAAiB,SAEzBQ,eAA+BC,GAC7B,GAA0B,WAAtBA,EAAEL,OAAOM,SAAuB,OACpC,MAAMC,EAAeF,EAAEL,OAAOQ,KAC9B,IACE,MAAMC,QAQVL,eAA+BG,GAC7B,IACE,MAAMG,EAAM,GAAGP,cAAqBI,IAC9BI,QAAcC,MAAMF,GAC1B,IAAKC,EAAME,GACT,MAAM,IAAIC,MAAM,iCAAiCH,EAAMI,UAGzD,aADwBJ,EAAMK,MAEhC,CAAE,MAAOC,GAEP,OADAC,QAAQD,MAAM,6BAA6BA,EAAME,WAC1C,EACT,CACF,CArBiCC,CAAgBb,GACvCc,QAsBVjB,eAA2BkB,EAAKf,GAC9B,GAAmB,IAAfe,EAAIC,OACN,MAAO,sKAMT,IAAIC,EAAQjB,EAAakB,MAAM,KAC/BD,EAAMA,EAAMD,OAAS,GAAK,2BACxBC,EAAMA,EAAMD,OAAS,YAEvBhB,EAAeiB,EAAME,KAAK,KAEDvC,SAASG,cAAc,mBAC/BqC,UAAY,8BAA8BpB,SAE3D,IAAIqB,EAAS,GAYb,OAXAA,GAAUN,EACPO,KACC,EAACC,MAAEA,EAAKC,OAAEA,EAAMC,WAAEA,KAChB,0CACcA,WAAoBF,wBAC1BA,wBACDC,yBAGVL,KAAK,IAEDE,CACT,CApD8BK,CAAYxB,EAAgBF,GACtDL,EAAYyB,UAAYN,CAC1B,CAAE,MAAOJ,GACPC,QAAQD,MAAMA,EAAME,QACtB,CACF,G","sources":["src/js/modals.js","src/js/category.js"],"sourcesContent":["// Змінити на клік по зображенням\nconst openModalBtn = document.getElementById('openModalBtn');\n\nconst modal = document.querySelector('.modal');\nconst closeModalBtn = modal.querySelector('#modal-close');\nconst jsBackdropModal = document.querySelector('.js-backdrop-modal');\n\nfunction openModal() {\n  modal.classList.remove('is-hidden');\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n}\n\n// Змінити на клік по зображенням\nopenModalBtn.addEventListener('click', openModal);\n\ncloseModalBtn.addEventListener('click', closeModal);\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n\njsBackdropModal.addEventListener('click', function (event) {\n  if (event.target === jsBackdropModal) {\n    closeModal();\n  }\n});\n","const listRef = document.querySelector('.category__list');\nconst bookListRef = document.querySelector('.category__books');\nconst ENDPOINT = 'https://books-backend.p.goit.global/books/category';\n\nlistRef.addEventListener('click', onCategoryCatch);\n\nasync function onCategoryCatch(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const categoryName = e.target.name;\n  try {\n    const caughtCategory = await fetchByCategory(categoryName);\n    const paintedList = await paintMarkup(caughtCategory, categoryName);\n    bookListRef.innerHTML = paintedList;\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\nasync function fetchByCategory(categoryName) {\n  try {\n    const url = `${ENDPOINT}?category=${categoryName}`;\n    const query = await fetch(url);\n    if (!query.ok) {\n      throw new Error(`Server responded with status: ${query.status}`);\n    }\n    const jsonQuery = await query.json();\n    return jsonQuery;\n  } catch (error) {\n    console.error(`Failed to fetch category: ${error.message}`);\n    return [];\n  }\n}\n\nasync function paintMarkup(arr, categoryName) {\n  if (arr.length === 0) {\n    return `<li class=\"book\">\n             <img src='.images/placeholders/big-placeholder' alt=\"No books found\" />\n              <h3>No books found</h3>\n            </li>`;\n  }\n\n  let words = categoryName.split(' ');\n  words[words.length - 1] = `<span class='highlight'>${\n    words[words.length - 1]\n  }</span>`;\n  categoryName = words.join(' ');\n\n  const categoryTitleRef = document.querySelector('.category-title');\n  categoryTitleRef.innerHTML = `<h2 class=\"category-title\">${categoryName}</h2>`;\n\n  let markup = '';\n  markup += arr\n    .map(\n      ({ title, author, book_image }) =>\n        `<li class=\"book\">\n          <img src=\"${book_image}\" alt=\"${title}\" />\n          <h3>${title}</h3>\n          <p>${author}</p>\n        </li>`\n    )\n    .join('');\n\n  return markup;\n}\n"],"names":["$df97da459fafe592$var$openModalBtn","document","getElementById","$df97da459fafe592$var$modal","querySelector","$df97da459fafe592$var$closeModalBtn","$df97da459fafe592$var$jsBackdropModal","$df97da459fafe592$var$closeModal","classList","add","addEventListener","remove","event","key","target","$1b5243cbc9dc9139$var$listRef","$1b5243cbc9dc9139$var$bookListRef","$1b5243cbc9dc9139$var$ENDPOINT","async","e","nodeName","categoryName","name","caughtCategory","url","query","fetch","ok","Error","status","json","error","console","message","$1b5243cbc9dc9139$var$fetchByCategory","paintedList","arr","length","words","split","join","innerHTML","markup","map","title","author","book_image","$1b5243cbc9dc9139$var$paintMarkup"],"version":3,"file":"index.702fd3ac.js.map"}